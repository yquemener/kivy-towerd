#:kivy 1.0.9

<LaserTurret>
    d: 20.0
    orient: 45
    size: self.d, self.d
    
    canvas:
        PushMatrix:
            stack: "modelview_mat"    
        Translate:
            xy: self.center
        Line:
            rectangle: [0,0,self.d,self.d]
        Rotate: 
            angle: self.orient
            origin: (self.d/2, self.d/2)
        Ellipse:
            size: self.d/2, self.d/2
            pos: [self.d/4, self.d/4]
        Line:
            points: [self.d/2, self.d/2, self.d/2+self.d*0.75, self.d/2]
        PopMatrix:
            stack: "modelview_mat"
<GunTurret>
    d: 20.0
    orient: 0
    size: self.d, self.d
    
    canvas:
        PushMatrix:
            stack: "modelview_mat"
        Translate:
            xy: self.center    
        Line:
            rectangle: [0,0,self.d,self.d]
        Rotate: 
            angle: self.orient
            origin: (self.d/2, self.d/2)
        Ellipse:
            size: self.d/2, self.d/2
            pos: [self.d/4, self.d/4]
        Line: 
            ellipse: [1, 1, self.d-2, self.d-2, 360, 360.0*self.cooldown/self.coolcycle]
        Line:
            rectangle: [self.d/2, self.d/2-1, self.d*0.75, 3]
        PopMatrix:
            stack: "modelview_mat"
            
<Bullet>
    d: 2.0
    size: self.d, self.d
    
    canvas:
        PushMatrix:
            stack: "modelview_mat"
        Translate:
            xy: self.center    
        Line:
            rectangle: [0,0,self.d,self.d]
        PopMatrix:
            stack: "modelview_mat"
            
            
<Base>
    d: 40.0
    size: self.d, self.d
    
    canvas:
        PushMatrix:
            stack: "modelview_mat"
        Translate:
        
            xy: self.pos
        Line:
            rectangle: [0,0,self.d,self.d]
        Line:
            rectangle: [0,0,self.d/6,self.d/6]
        Line:
            rectangle: [5*self.d/6,0,self.d/6,self.d/6]
        Line:
            rectangle: [5*self.d/6,5*self.d/6,self.d/6,self.d/6]
        Line:
            rectangle: [0,5*self.d/6,self.d/6,self.d/6]
            
        PopMatrix:
            stack: "modelview_mat"

<SquareEnemy>
    d: 20.0
    size: self.d, self.d
    life: 0.4
    orient: 0

    canvas:
        PushMatrix:
            stack: "modelview_mat"
        Translate:
            xy: self.center
        Rotate: 
            angle: self.orient
            origin: (self.d/2, self.d/2)            
        Rectangle: 
            pos:[-self.d/2,-self.d/2]
            size: [self.d/2*self.life,self.d]
        Rectangle: 
            pos:[self.d/2-self.d/2*self.life,self.d/2]
            size: [self.d/2*self.life,self.d]
        Rectangle: 
            pos:[-self.d/2,-self.d/2]
            size: [self.d,self.d/2*self.life]
        Rectangle: 
            pos:[-self.d/2,self.d/2-self.d/2*self.life]
            size: [self.d,self.d/2*self.life]
        PopMatrix:
            stack: "modelview_mat"
        


<TurretGame>:
    life: 100
    deblog: deblog
    
    Label:
        font_size: 70  
        center_x: root.width / 2
        top: root.top - 50
        text: str(root.life)
        
    Label:
        id:deblog
        center_x: root.width / 2
        center_y: root.height/2
        text: ""
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        